# Runtime
NODE_ENV=development
PORT=3001
API_PORT=3001
API_BASE_URL=http://localhost:3001
NEXT_PUBLIC_API_BASE_URL=http://localhost:3001
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Security / Auth
JWT_SECRET=replace-with-strong-secret
NEXTAUTH_SECRET=optional-if-web-uses-nextauth

# Databases
# PostgreSQL is required for operational/auth/billing data.
# Azure Flexible Server example:
# DATABASE_URL=postgresql://<user>:<pass>@<server>.postgres.database.azure.com:5432/nba_app?schema=public&sslmode=require
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nba_app?schema=public
# SQLite is still used for analytics reads.
DATABASE_PATH=./db/local/nba.sqlite
# If true, API boot fails when Postgres is unreachable.
POSTGRES_REQUIRED_ON_BOOT=false
# Production-safe defaults:
# - readonly mode is enabled by default in NODE_ENV=production
# - write/refresh are disabled by default in NODE_ENV=production
# SQLITE_READONLY=true
# SQLITE_WRITE_ENABLED=false
# SQLITE_REFRESH_ON_BOOT=false

# Billing (Stripe test mode)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PRICE_MONTHLY=price_...
STRIPE_PRICE_ANNUAL=price_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_SUCCESS_URL=http://localhost:3000/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/billing/cancel

# Local/dev only. Automatically ignored when NODE_ENV=production.
DEV_PREMIUM_BYPASS=false

# Optional Redis (falls back to in-memory when unset)
REDIS_URL=

# Rate limits / QA limits
REQUESTS_PER_MINUTE=120
QA_QUERY_TIMEOUT_MS=2500
FREE_QA_DAILY_LIMIT=5
PREMIUM_QA_DAILY_LIMIT=5000
FREE_QA_ROW_LIMIT=50
PREMIUM_QA_ROW_LIMIT=500

# ESPN sync/cache for upcoming games endpoint
ESPN_SYNC_ENABLED=true
ESPN_SYNC_INTERVAL_MINUTES=60
